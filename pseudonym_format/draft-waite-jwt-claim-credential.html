<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>JWT Claim Credential Type</title>
<meta content="D. Waite" name="author">
<meta content="
       User authentication and attributes are exchanged online today between organizations based on bilateral business arrangements, with user consent and privacy provided as desired by the organization(s) involved. 
       Multipass is a system intended for an organization to issue credentials unilaterally, where other organizations can evaluate credentials without having a relationship to the issuing party. This is accomplished by leveraging a software agent, which allows this exchange to be done in a manner that is able to respect user privacy and support informed decisions around disclosure. 
       This specification defines a way to share a subset of attributes about a user stated by the credential issuer to a verifier. The process of selecting which attributes should be shared is performed by a holder in the user control, which can also provide informed consent options to the user. 
    " name="description">
<meta content="xml2rfc 2.47.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-waite-jwt-claim-credential" name="ietf.draft">
<link href="draft-waite-jwt-claim-credential.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@import url('https://martinthomson.github.io/i-d-template/fonts.css');

html {
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --small-font-size: 14.5px;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
#title {
  padding: 1em 0 0.2em;
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1, h2, h3 {
  font-size: 22px;
  line-height: 26px;
}
h4, h5, h6 {
  font-size: 18px;
  line-height: 22px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p, #abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 18px;
  line-height: 24px;
}
p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
dd.break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href].selfRef {
  color: var(--text-color);
}
a[href] {
  color: var(--link-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px 'Oxygen Mono', monospace;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  pre {
    display: inline-block;
    overflow-x: auto;
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  pre + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
  table {
    display: inline-block;
    overflow-x: auto;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  text-align: left;
  background-color: #eee;
}
tr:nth-child(2n) > td {
  background-color: var(--background-color);
}
tr:nth-child(2n+1) > td {
  background-color: var(--highlight-color);
}
thead+tbody > tr:nth-child(2n) > td {
  background-color: var(--highlight-color);
}
thead+tbody > tr:nth-child(2n+1) > td {
  background-color: var(--background-color);
}
table caption {
  margin: 0;
  padding: 3px 1em;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  visibility: hidden;
  user-select: none;
}
a.pilcrow[href] { color: #ddd; }
a.pilcrow[href]:hover { text-decoration: none; }
@media screen {
  :hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 8em;
}
#identifiers dt {
  width: var(--identifier-width);
  margin: 0;
  clear: left;
  float: left;
  text-align: right;
}
#identifiers dd {
  margin: 0 0 0 calc(1em + var(--identifier-width));
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 500px) {
  .index ul {
    column-count: 2;
    column-gap: 20px;
  }
  .index ul ul {
    column-count: 1;
    column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul p, #toc ul li {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table .text-left, table .text-left {
  text-align: left;
}
table .text-center, table .text-center {
  text-align: center;
}
table .text-right, table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  dd {
    page-break-before: avoid;
  }
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
</head>
<body>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">JWT claim credential</td>
<td class="right">August 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Waite</td>
<td class="center">Expires 22 February 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">None</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-waite-jwt-claim-credential</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2020-08-21" class="published">21 August 2020</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Experimental</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-02-22">22 February 2021</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">D. Waite</div>
<div class="org">Ping Identity</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">JWT Claim Credential Type</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">User authentication and attributes are exchanged online today between organizations based on bilateral business arrangements, with user consent and privacy provided as desired by the organization(s) involved.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">Multipass is a system intended for an organization to issue credentials unilaterally, where other organizations can evaluate credentials without having a relationship to the issuing party. This is accomplished by leveraging a software agent, which allows this exchange to be done in a manner that is able to respect user privacy and support informed decisions around disclosure.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">This specification defines a way to share a subset of attributes about a user stated by the credential issuer to a verifier. The process of selecting which attributes should be shared is performed by a holder in the user control, which can also provide informed consent options to the user.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 22 February 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-notational-conventions" class="xref">Notational Conventions</a><a href="#section-toc.1-1.1.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1"><a href="#section-1.2" class="xref">1.2</a>.  <a href="#name-credential-type" class="xref">Credential Type</a><a href="#section-toc.1-1.1.2.2.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.1.2.2.2.1">
                    <p id="section-toc.1-1.1.2.2.2.1.1" class="keepWithNext"><a href="#section-1.2.1" class="xref">1.2.1</a>.  <a href="#name-overview" class="xref">Overview</a><a href="#section-toc.1-1.1.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.1.2.2.2.2">
                    <p id="section-toc.1-1.1.2.2.2.2.1" class="keepWithNext"><a href="#section-1.2.2" class="xref">1.2.2</a>.  <a href="#name-security-and-privacy" class="xref">Security and Privacy</a><a href="#section-toc.1-1.1.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1"><a href="#section-1.3" class="xref">1.3</a>.  <a href="#name-supported-jwt-claims" class="xref">Supported JWT Claims</a><a href="#section-toc.1-1.1.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.1.2.4">
                <p id="section-toc.1-1.1.2.4.1"><a href="#section-1.4" class="xref">1.4</a>.  <a href="#name-claim-predicates" class="xref">Claim Predicates</a><a href="#section-toc.1-1.1.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.1.2.5">
                <p id="section-toc.1-1.1.2.5.1"><a href="#section-1.5" class="xref">1.5</a>.  <a href="#name-claim-object-selection" class="xref">Claim Object Selection</a><a href="#section-toc.1-1.1.2.5.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.1.2.6">
                <p id="section-toc.1-1.1.2.6.1"><a href="#section-1.6" class="xref">1.6</a>.  <a href="#name-age-claim" class="xref">Age Claim</a><a href="#section-toc.1-1.1.2.6.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.1.2.7">
                <p id="section-toc.1-1.1.2.7.1"><a href="#section-1.7" class="xref">1.7</a>.  <a href="#name-credential-metadata" class="xref">Credential Metadata</a><a href="#section-toc.1-1.1.2.7.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.1.2.8">
                <p id="section-toc.1-1.1.2.8.1"><a href="#section-1.8" class="xref">1.8</a>.  <a href="#name-holder-credential-request" class="xref">Holder Credential Request</a><a href="#section-toc.1-1.1.2.8.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.1.2.9">
                <p id="section-toc.1-1.1.2.9.1"><a href="#section-1.9" class="xref">1.9</a>.  <a href="#name-container-credential-data" class="xref">Container Credential Data</a><a href="#section-toc.1-1.1.2.9.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.1.2.10">
                <p id="section-toc.1-1.1.2.10.1"><a href="#section-1.10" class="xref">1.10</a>. <a href="#name-credential-presentation-req" class="xref">Credential Presentation Request</a><a href="#section-toc.1-1.1.2.10.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.1.2.11">
                <p id="section-toc.1-1.1.2.11.1"><a href="#section-1.11" class="xref">1.11</a>. <a href="#name-holder-presentation-process" class="xref">Holder Presentation Processing</a><a href="#section-toc.1-1.1.2.11.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.1.2.12">
                <p id="section-toc.1-1.1.2.12.1"><a href="#section-1.12" class="xref">1.12</a>. <a href="#name-predicate-processing" class="xref">Predicate Processing</a><a href="#section-toc.1-1.1.2.12.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.1.2.13">
                <p id="section-toc.1-1.1.2.13.1"><a href="#section-1.13" class="xref">1.13</a>. <a href="#name-credential-presentation-res" class="xref">Credential Presentation Response</a><a href="#section-toc.1-1.1.2.13.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.1.2.14">
                <p id="section-toc.1-1.1.2.14.1"><a href="#section-1.14" class="xref">1.14</a>. <a href="#name-alternatives-considered" class="xref">Alternatives Considered</a><a href="#section-toc.1-1.1.2.14.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-references" class="xref">References</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.2.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.2.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-appendix.a" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Multipass describes a process for retrieving and handling a set of credentials from a single issuer, known as a <em>Multipass Container</em>. These containers are single use, cryptographically verifiable statements by a particular issuer, containing or referencing credentials of various types - representing user attributes, authentication, and authorization. Multipass also defines mechanisms to prove possession of a key associated with the container to the relying party, and for verifying the credentials were asserted by the issuer.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">This specification describes the data expected in a request by a party for a particular type of credential , as well as the cryptographic format of the presentation of this credential back to the requesting party.<a href="#section-1-2" class="pilcrow">¶</a></p>
<div id="notational-conventions">
<section id="section-1.1">
        <h3 id="name-notational-conventions">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-notational-conventions" class="section-name selfRef">Notational Conventions</a>
        </h3>
<p id="section-1.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
"MAY", and "OPTIONAL" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.
These words may also appear in this document in
lower case as plain English words, absent their normative meanings.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">Certain security-related terms are to be understood in the sense defined in <span>[<a href="#SECURITY" class="xref">SECURITY</a>]</span>.  These terms may include, but are not limited to,
"air gap", "anonymity", "assymmetric cryptography", "attribute", "authentication", "authorization", "certificate", "challenge-response", "credential", "data integrity", "domain", "domain name", "enclave", "encryption", "ephemeral key", "expire", "fresh", "identifier", "identity", "identity proofing", "integrity", "privacy", "private key", "proof-of-possession", "protocol", "public key", "repudiation", "sign", "signature", "single sign-on", "steganography", "trust", "validate", "validity period", "verify", and "zero-knowledge proof"<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">Unless otherwise noted, all the protocol parameter names and values are case sensitive.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
<p id="section-1.1-4">This specification also leverages the terms and roles defined in <span>[<a href="#draft-waite-multipass-retrieval" class="xref">draft-waite-multipass-retrieval</a>]</span><a href="#section-1.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="credential-type">
<section id="section-1.2">
        <h3 id="name-credential-type">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-credential-type" class="section-name selfRef">Credential Type</a>
        </h3>
<div id="overview">
<section id="section-1.2.1">
          <h4 id="name-overview">
<a href="#section-1.2.1" class="section-number selfRef">1.2.1. </a><a href="#name-overview" class="section-name selfRef">Overview</a>
          </h4>
<p id="section-1.2.1-1">A JWT Claim credential shares attributes stated by some issuer to a verifier. The attributes within the credential are attributes about the subject, such as a contact email address or family name.<a href="#section-1.2.1-1" class="pilcrow">¶</a></p>
<p id="section-1.2.1-2">The credential is meant to only represent attributes of the subject, and does not represent other aspects the user identity. Other credential types should be used for authenticating the subject or for providing authorization scopes and policy decisions.<a href="#section-1.2.1-2" class="pilcrow">¶</a></p>
<p id="section-1.2.1-3">The credential consists of a series of JWS documents. This allows selective disclosure by the holder by choosing which JWS documents to share with a verifier.<a href="#section-1.2.1-3" class="pilcrow">¶</a></p>
<p id="section-1.2.1-4">The credential type identifier for JWS claim credentials is <code>jwt-claims</code>. This identifier serves as a key used in metadata as well as credential and presentation interactions.<a href="#section-1.2.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-and-privacy">
<section id="section-1.2.2">
          <h4 id="name-security-and-privacy">
<a href="#section-1.2.2" class="section-number selfRef">1.2.2. </a><a href="#name-security-and-privacy" class="section-name selfRef">Security and Privacy</a>
          </h4>
<p id="section-1.2.2-1">The credential consists of a series of JWS documents. This allows selective disclosure by the holder by choosing which JWS documents to share with a verifier.<a href="#section-1.2.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2.2-2">The indivudal JWS documents are signed by the ephemeral multipass container key <code>cdv</code>. The existance of a particular claim for a user is hidden from verifiers until the JWS document associated with the claim is disclosed to the verifier.<a href="#section-1.2.2-2" class="pilcrow">¶</a></p>
<p id="section-1.2.2-3">The ability to partially or uniquely identify the subject is related to the claims released. A claim such as <code>gender</code> might separate a subject into one of two larger groups defined by traditional gender roles, or more specifically identify the subject if a non-traditional gender role is shared. The <code>sub</code> or <code>email</code> claims will likely uniquely identify the subject with that issuer.<a href="#section-1.2.2-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="supported-jwt-claims">
<section id="section-1.3">
        <h3 id="name-supported-jwt-claims">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-supported-jwt-claims" class="section-name selfRef">Supported JWT Claims</a>
        </h3>
<p id="section-1.3-1">The JWT registry declares both claims which provide security properties (such as the expiry <code>exp</code>) and claims which indicate information about the subject (such as <code>sub</code> or <code>phone_number</code>). The majority of claims which provide information about a subject are declared as part of <span>[<a href="#OpenID.Core" class="xref">OpenID.Core</a>]</span>.<a href="#section-1.3-1" class="pilcrow">¶</a></p>
<p id="section-1.3-2">This specification leverages and expands upon the OpenID process of creating specialized claims by suffixing the registered claim name with <code>#</code>.<a href="#section-1.3-2" class="pilcrow">¶</a></p>
<p id="section-1.3-3">In particular:<a href="#section-1.3-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-1.3-4">
          <li id="section-1.3-4.1">As described in <span>[<a href="#OpenID.Core" class="xref">OpenID.Core</a>]</span> section 5.2, a string or reference may claim name may be suffixed with <code>#&lt;language-tag&gt;</code> (as defined in <span>[<a href="#LANGTAG" class="xref">LANGTAG</a>]</span>), to give the value appropriate for a particular locale or script. For human-readable/displayable text, this indicates an alternative displayable value. For a reference (such as a URL), this indicates the location of an alternative displayable value, such as a localized web page.<a href="#section-1.3-4.1" class="pilcrow">¶</a>
</li>
          <li id="section-1.3-4.2">For numerical values, <code>#&lt;predicate&gt;:&lt;value&gt;</code> can be used to indicate the value holds the boolean value of the predicate evaluation against the claim.<a href="#section-1.3-4.2" class="pilcrow">¶</a>
</li>
          <li id="section-1.3-4.3">For values which are objects, <code>#&lt;key[.key]*&gt;</code> indicates the object has been filtered to only include that key. For example, <code>address#postal_code</code> would only return the zip or postal code for the user's perferred phsyical mailing address.<a href="#section-1.3-4.3" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-1.3-5">If the claim name is a URL value, it is RECOMMENDED that the fragment identifier be usable in the same manner as declared above. It is NOT RECOMMENDED to use claim names which contain fragment identifiers.<a href="#section-1.3-5" class="pilcrow">¶</a></p>
<p id="section-1.3-6">For compatibility with OpenID Connect usage as well as URL formatting (which uses <code>#</code> as a delimiter for fragments), there is presently no way to indicate a combination of these values, such as a predicate applied to a value within an object claim.<a href="#section-1.3-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="claim-predicates">
<section id="section-1.4">
        <h3 id="name-claim-predicates">
<a href="#section-1.4" class="section-number selfRef">1.4. </a><a href="#name-claim-predicates" class="section-name selfRef">Claim Predicates</a>
        </h3>
<p id="section-1.4-1">For numerical claim values, <code>#&lt;predicate&gt;:&lt;value&gt;</code> may be used to represent the boolean result of predicate evaluation. For example, a <code>power_level</code> claim might indicate the subject's fighting strength. To reduce the amount if information which may be shared with opponents, the issuer may give the option to only return whether the power level is over 8,000. This would be done by sharing a claim named <code>power_level#gt:8000</code>, which would have a value of <code>true</code> or <code>false</code>.<a href="#section-1.4-1" class="pilcrow">¶</a></p>
<p id="section-1.4-2">Predicate identifiers specified by this document are:<a href="#section-1.4-2" class="pilcrow">¶</a></p>
<p id="section-1.4-3">eq:
  :Equal to<a href="#section-1.4-3" class="pilcrow">¶</a></p>
<p id="section-1.4-4">gt:
  :Greater than<a href="#section-1.4-4" class="pilcrow">¶</a></p>
<p id="section-1.4-5">gte:
  :Greather than or equal<a href="#section-1.4-5" class="pilcrow">¶</a></p>
<p id="section-1.4-6">For simplicity, this list does not include the 'neq', 'lt', and 'lte' predicates. These can be determined by inverting the result of existing predicates.<a href="#section-1.4-6" class="pilcrow">¶</a></p>
<p id="section-1.4-7">This specification also does not declare more complex predicate relationships such as ranges. Instead, the attribute can be returned with two different predicates.<a href="#section-1.4-7" class="pilcrow">¶</a></p>
<p id="section-1.4-8">For exapmle, to determine appropriate opponents, both <code>power_level#gt:8000</code> and <code>power_level#gt:18000</code> might shared with a verifier. Note that this does provide more information to a verifier than if this was a single predicate.<a href="#section-1.4-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="claim-object-selection">
<section id="section-1.5">
        <h3 id="name-claim-object-selection">
<a href="#section-1.5" class="section-number selfRef">1.5. </a><a href="#name-claim-object-selection" class="section-name selfRef">Claim Object Selection</a>
        </h3>
<p id="section-1.5-1">For dictionary claim values, <code>#&lt;key&gt;</code> may be used to return the value of a particular key in the dictionary. This might be used, for example, to represent just the postal code or country of a subject's address.<a href="#section-1.5-1" class="pilcrow">¶</a></p>
<p id="section-1.5-2">If the key results in another dictionary, subkeys may also be supplied separated by a period, e.g. <code>#key.subkey</code>.<a href="#section-1.5-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="age-claim">
<section id="section-1.6">
        <h3 id="name-age-claim">
<a href="#section-1.6" class="section-number selfRef">1.6. </a><a href="#name-age-claim" class="section-name selfRef">Age Claim</a>
        </h3>
<p id="section-1.6-1">The <code>age</code> claim indicates the non-negative integer number of years since a subject's recognized birth date, as evaluated at credential creation time. This value is usually represented in conjunction with the <code>gte</code> predicate, such as <code>age#gte:21</code> indicating whether a subject was 21 or over at the time of credential creation.<a href="#section-1.6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="credential-metadata">
<section id="section-1.7">
        <h3 id="name-credential-metadata">
<a href="#section-1.7" class="section-number selfRef">1.7. </a><a href="#name-credential-metadata" class="section-name selfRef">Credential Metadata</a>
        </h3>
<p id="section-1.7-1">Metadata under the <code>jwt-claims</code> key consists of a JSON object, where each key is a unique claim name which the holder MAY receive as part of a multipass, and be able to return to the verifier.<a href="#section-1.7-1" class="pilcrow">¶</a></p>
<p id="section-1.7-2">The value of each claim name key is a JSON object defining localized, displayable text for the holder to use in describing the claim. The value MAY be <code>true</code> if a holder is expected to already know the semantics of the claim. A holder MAY choose to not use the provided text for describing the claim to a user.<a href="#section-1.7-2" class="pilcrow">¶</a></p>
<p id="section-1.7-3">It is RECOMMENDED that a single base claim is used for values which may have language tags to specify multiple localizations/scripts.<a href="#section-1.7-3" class="pilcrow">¶</a></p>
<p id="section-1.7-4">It is RECOMMENDED that claims with predicates or object selection have each predicate/filter specified for verifiers to understand what they may request.<a href="#section-1.7-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="holder-credential-request">
<section id="section-1.8">
        <h3 id="name-holder-credential-request">
<a href="#section-1.8" class="section-number selfRef">1.8. </a><a href="#name-holder-credential-request" class="section-name selfRef">Holder Credential Request</a>
        </h3>
<p id="section-1.8-1">A holder requests a <code>jwt-claims</code> credential be included in the multipass container by specifying a <code>jwt-claims</code> credential request key with a value of <code>true</code>. The issuer SHOULD create a credential containing claims about the subject that the holder is allowed to disclose to issuers.<a href="#section-1.8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="container-credential-data">
<section id="section-1.9">
        <h3 id="name-container-credential-data">
<a href="#section-1.9" class="section-number selfRef">1.9. </a><a href="#name-container-credential-data" class="section-name selfRef">Container Credential Data</a>
        </h3>
<p id="section-1.9-1">Within a multipass container, the credential is represented as an array of compactly serialized JWS documents under the <code>jwt-claims</code> key.<a href="#section-1.9-1" class="pilcrow">¶</a></p>
<p id="section-1.9-2">The individual JWS documents have a media type of <code>application/jwt-claim</code>. The <code>typ</code> header parameter MUST indicate this, and SHOULD be set to <code>jwt-claim</code>.<a href="#section-1.9-2" class="pilcrow">¶</a></p>
<p id="section-1.9-3">The signature of the claim uses the key associated with the <code>cdv</code> public key value in the issuer statement. The <code>alg</code> header parameter MUST be present and MUST be set to the key type indicated by the <code>cdv</code> value. This parameter MUST NOT be <code>none</code>.<a href="#section-1.9-3" class="pilcrow">¶</a></p>
<p id="section-1.9-4">The contents of the JWS MUST be a JSON object, containing at least one JWT claim key/value pair. An issuer SHOULD create a JWS per distinct claim. For language-tagged claims, an issuer MAY choose to include multiple localizations of the claim within a single JWS.<a href="#section-1.9-4" class="pilcrow">¶</a></p>
<p id="section-1.9-5">An issuer MUST NOT include the same JWT claim within multiple returned JWS documents.<a href="#section-1.9-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="credential-presentation-request">
<section id="section-1.10">
        <h3 id="name-credential-presentation-req">
<a href="#section-1.10" class="section-number selfRef">1.10. </a><a href="#name-credential-presentation-req" class="section-name selfRef">Credential Presentation Request</a>
        </h3>
<p id="section-1.10-1">A verifier requests a JWT claim credential via the <code>jwt-claims</code> key in the request JSON object.<a href="#section-1.10-1" class="pilcrow">¶</a></p>
<p id="section-1.10-2">The <code>jwt-claims</code> key is associated with a JSON object where each key represents a requested JWT claim name. These keys MAY also indicate aspects of the request for a particular JWT claim. This format is based on, but does not directly mirror, the Individual Claims Requests format in section 5.5.1 of <span>[<a href="#OpenID.Core" class="xref">OpenID.Core</a>]</span><a href="#section-1.10-2" class="pilcrow">¶</a></p>
<p id="section-1.10-3">The request for a particular claim may specify additional requirements by supplying a JWT object for the value of the claim name key. The value associated with the claim name key SHOULD be <code>null</code> if no requirements are necessary for the particular claim. The available requirements are specified via the following keys:<a href="#section-1.10-3" class="pilcrow">¶</a></p>
<p id="section-1.10-4">essential:
  :A value of <code>true</code> indicates the claim being requested is an essential claim for the verifier. An essential claim indicates that any presented credential cannot be successfully processed without the specified claim being returned.<a href="#section-1.10-4" class="pilcrow">¶</a></p>
<p id="section-1.10-5">values:
  :Specifies an array of at least one value expected for a claim. A claim request with required values indicates that a presented credential cannot be successfully processed without the specified claim indicating one of the specified values. Individual values MUST either be boolean, string, or numerical values.<a href="#section-1.10-5" class="pilcrow">¶</a></p>
<p id="section-1.10-6">If "essential" is not indicated for the claim, the verifier is indicating that the claim should be omitted from the presented credential if it does not match one of the specified values.<a href="#section-1.10-6" class="pilcrow">¶</a></p>
<p id="section-1.10-7">predicates:
  :Indicates one or more predicates. A claim request with predicates indicates that the presented claim must meet the conditions of each predicate for a presented credential to be successfully processed. Predicate values are of the form <code>&lt;predicate&gt;:&lt;value&gt;</code>, with an additional optional prefix of '!' indicating the predicate is expected to evaluate to false.<a href="#section-1.10-7" class="pilcrow">¶</a></p>
<p id="section-1.10-8">If "essential" is not indicated for the claim, the verifier is indicating that the claim should be omitted from the presented credential if it does not match all of the specified predicates.<a href="#section-1.10-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="holder-presentation-processing">
<section id="section-1.11">
        <h3 id="name-holder-presentation-process">
<a href="#section-1.11" class="section-number selfRef">1.11. </a><a href="#name-holder-presentation-process" class="section-name selfRef">Holder Presentation Processing</a>
        </h3>
<p id="section-1.11-1">The holder will process the presentation request against available credential data. The list of JWS documents within the credential data should be checked for available claims to be disclosed to the verifier. If the presentation request asks for essential claims which are not available, the holder MUST return an error, and SHOULD inform the user of the request and indicate the cause of the failure.<a href="#section-1.11-1" class="pilcrow">¶</a></p>
<p id="section-1.11-2">The holder MUST limit the returned claims to the set of requested claims. The user SHOULD be informed of the request, and MAY be given the option to control what data is returned. For example, the holder MAY display a list of the requested claims with checkboxes indicating which claims might be returned, with essential claims being unable to be unchecked and all other claims unchecked by default.<a href="#section-1.11-2" class="pilcrow">¶</a></p>
<p id="section-1.11-3">The metadata of the issuer MAY be used by the holder to determine appropriate localizable names to display to a user for a claim. A holder MAY use its own names for display, and MAY decide not to support claims which it cannot adequately convey to the user.<a href="#section-1.11-3" class="pilcrow">¶</a></p>
<p id="section-1.11-4">Once the holder determines the list of claims to return, it will create an array of JWS documents containing those claims. JWS documents containing other claims will not be shared and may be discarded.<a href="#section-1.11-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="predicate-processing">
<section id="section-1.12">
        <h3 id="name-predicate-processing">
<a href="#section-1.12" class="section-number selfRef">1.12. </a><a href="#name-predicate-processing" class="section-name selfRef">Predicate Processing</a>
        </h3>
<p id="section-1.12-1">A claim request with required predicates may be met by returning a claim matching the predicate, a more specific predicate, or the non-predicated value of a claim.<a href="#section-1.12-1" class="pilcrow">¶</a></p>
<p id="section-1.12-2">For example, a request for:<a href="#section-1.12-2" class="pilcrow">¶</a></p>
<p id="section-1.12-3"><code>json
{
  "jwt-claims": {
    "age": {
      "predicates": [ "gte:21" ]
    }
  }
}
</code><a href="#section-1.12-3" class="pilcrow">¶</a></p>
<p id="section-1.12-4">Could be matched by returning any of the following claims.<a href="#section-1.12-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.12-5.1">
            <code>"age#gte:21" : true</code><a href="#section-1.12-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.12-5.2">
            <code>"age#gt:21" : true</code><a href="#section-1.12-5.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.12-5.3">
            <code>"age#gte:25" : true</code><a href="#section-1.12-5.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.12-5.4">
            <code>"age": 27</code><a href="#section-1.12-5.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-1.12-6">Holders are RECOMMENDED to return the most general form of claim by default. The holder SHOULD indicate to the user the information being disclosed (e.g. "Age over 25") rather than the requested predicate by the verifier ("Age over 21") if the two differ.<a href="#section-1.12-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="credential-presentation-response">
<section id="section-1.13">
        <h3 id="name-credential-presentation-res">
<a href="#section-1.13" class="section-number selfRef">1.13. </a><a href="#name-credential-presentation-res" class="section-name selfRef">Credential Presentation Response</a>
        </h3>
<p id="section-1.13-1">The presentation of a <code>jws-claims</code> credential consists of a list of JWS documents, each holding one or more JWT claims.<a href="#section-1.13-1" class="pilcrow">¶</a></p>
<p id="section-1.13-2">A verifier MUST verify that the JWS header have a <code>typ</code> of either <code>application/jwt-claim</code> or the shortened <code>jwt-claim</code>. The <code>alg</code> header value MUST be set to the algorithm of the <code>cdv</code> key in the issuer statement, and MUST NOT be the value <code>none</code>. No other header values from the holder are valid.<a href="#section-1.13-2" class="pilcrow">¶</a></p>
<p id="section-1.13-3">The JWS documents must have their signatures verified against the <code>cdv</code> public key. If any documents cannot be verified, the entire credential MUST be rejected.<a href="#section-1.13-3" class="pilcrow">¶</a></p>
<p id="section-1.13-4">The JSON content of the JWS documents contain claims information. The same claim MUST NOT be made in multiple documents. A verifier MAY consider these individual JSON objects as slices of a single JSON object.<a href="#section-1.13-4" class="pilcrow">¶</a></p>
<p id="section-1.13-5">TODO: define errors and any recovery process.<a href="#section-1.13-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="alternatives-considered">
<section id="section-1.14">
        <h3 id="name-alternatives-considered">
<a href="#section-1.14" class="section-number selfRef">1.14. </a><a href="#name-alternatives-considered" class="section-name selfRef">Alternatives Considered</a>
        </h3>
<p id="section-1.14-1">Similar systems may allow the user to mix in self-asserted values, such as to change their given name to a different value. The preference would be to have this be a second credential, possibly protected by the ephemeral key of the holder indicated in the issuer statement.<a href="#section-1.14-1" class="pilcrow">¶</a></p>
<p id="section-1.14-2">A system leveraging merkle trees could eliminate the multiple signature validations necessary for processing individual attributes, but would require defining a system a format for encoding those values (rather than leveraging JWS).<a href="#section-1.14-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-2">
      <h2 id="name-references">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-2.1">
        <h3 id="name-normative-references">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="JSON">[JSON]</dt>
        <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">RFC 7159</span>, <span class="seriesInfo">DOI 10.17487/RFC7159</span>, <time datetime="2014-03" class="refDate">March 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7159">https://www.rfc-editor.org/info/rfc7159</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="JWA">[JWA]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refTitle">"JSON Web Algorithms (JWA)"</span>, <span class="seriesInfo">RFC 7518</span>, <span class="seriesInfo">DOI 10.17487/RFC7518</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7518">https://www.rfc-editor.org/info/rfc7518</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="JWK">[JWK]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refTitle">"JSON Web Key (JWK)"</span>, <span class="seriesInfo">RFC 7517</span>, <span class="seriesInfo">DOI 10.17487/RFC7517</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7517">https://www.rfc-editor.org/info/rfc7517</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="JWT">[JWT]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span><span class="refAuthor">, Bradley, J.</span><span class="refAuthor">, and N. Sakimura</span>, <span class="refTitle">"JSON Web Token (JWT)"</span>, <span class="seriesInfo">RFC 7519</span>, <span class="seriesInfo">DOI 10.17487/RFC7519</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7519">https://www.rfc-editor.org/info/rfc7519</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="LANGTAG">[LANGTAG]</dt>
        <dd>
<span class="refAuthor">Phillips, A., Ed.</span><span class="refAuthor"> and M. Davis, Ed.</span>, <span class="refTitle">"Tags for Identifying Languages"</span>, <span class="seriesInfo">BCP 47</span>, <span class="seriesInfo">RFC 5646</span>, <span class="seriesInfo">DOI 10.17487/RFC5646</span>, <time datetime="2009-09" class="refDate">September 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5646">https://www.rfc-editor.org/info/rfc5646</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OAUTH2">[OAUTH2]</dt>
        <dd>
<span class="refAuthor">Hardt, D., Ed.</span>, <span class="refTitle">"The OAuth 2.0 Authorization Framework"</span>, <span class="seriesInfo">RFC 6749</span>, <span class="seriesInfo">DOI 10.17487/RFC6749</span>, <time datetime="2012-10" class="refDate">October 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6749">https://www.rfc-editor.org/info/rfc6749</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OAUTHMETA">[OAUTHMETA]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span><span class="refAuthor">, Sakimura, N.</span><span class="refAuthor">, and J. Bradley</span>, <span class="refTitle">"OAuth 2.0 Authorization Server Metadata"</span>, <span class="seriesInfo">RFC 8414</span>, <span class="seriesInfo">DOI 10.17487/RFC8414</span>, <time datetime="2018-06" class="refDate">June 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8414">https://www.rfc-editor.org/info/rfc8414</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SECURITY">[SECURITY]</dt>
      <dd>
<span class="refAuthor">Shirey, R.</span>, <span class="refTitle">"Internet Security Glossary, Version 2"</span>, <span class="seriesInfo">FYI 36</span>, <span class="seriesInfo">RFC 4949</span>, <span class="seriesInfo">DOI 10.17487/RFC4949</span>, <time datetime="2007-08" class="refDate">August 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4949">https://www.rfc-editor.org/info/rfc4949</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-2.2">
        <h3 id="name-informative-references">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="ANONCRED">[ANONCRED]</dt>
        <dd>
<span class="refAuthor">Camenisch, J.</span><span class="refAuthor"> and A. Lysyanskaya</span>, <span class="refTitle">"An Efficient System for Non-trasferable Anonymous Credentials with Optional Anonymity Revocation"</span>, <time datetime="2001" class="refDate">2001</time>, <span>&lt;<a href="https://eprint.iacr.org/2001/019.pdf">https://eprint.iacr.org/2001/019.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="draft-waite-multipass-retrieval">[draft-waite-multipass-retrieval]</dt>
        <dd>
<span class="refAuthor">Waite, D.</span><span class="refAuthor"> and J. Miller</span>, <span class="refTitle">"Multipass Container Retrieval"</span>, <time datetime="2020-07" class="refDate">July 2020</time>, <span>&lt;<a href="https://dwaite.github.io/multipass/">https://dwaite.github.io/multipass/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="JWTPOP">[JWTPOP]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span><span class="refAuthor">, Bradley, J.</span><span class="refAuthor">, and H. Tschofenig</span>, <span class="refTitle">"Proof-of-Possession Key Semantics for JSON Web Tokens (JWTs)"</span>, <span class="seriesInfo">RFC 7800</span>, <span class="seriesInfo">DOI 10.17487/RFC7800</span>, <time datetime="2016-04" class="refDate">April 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7800">https://www.rfc-editor.org/info/rfc7800</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OASIS.saml-core-2.0-os">[OASIS.saml-core-2.0-os]</dt>
        <dd>
<span class="refAuthor">Cantor, S.</span><span class="refAuthor">, Kemp, J.</span><span class="refAuthor">, Philpott, R.</span><span class="refAuthor">, and E. Maler</span>, <span class="refTitle">"Assertions and Protocol for the OASIS Security Assertion Markup Language (SAML) V2.0"</span>, <span class="seriesInfo">OASIS Standard saml-core-2.0-os</span>, <time datetime="2005-03" class="refDate">March 2005</time>, <span>&lt;<a href="http://docs.oasis-open.org/security/saml/v2.0/saml-core-2.0-os.pdf">http://docs.oasis-open.org/security/saml/v2.0/saml-core-2.0-os.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OpenID.Core">[OpenID.Core]</dt>
        <dd>
<span class="refAuthor">Sakimora, N.</span><span class="refAuthor">, Bradley, J.</span><span class="refAuthor">, Jones, M.</span><span class="refAuthor">, de Medeiros, B.</span><span class="refAuthor">, and C. Mortimore</span>, <span class="refTitle">"OpenID Connect Core 1.0"</span>, <time datetime="2014-11" class="refDate">November 2014</time>, <span>&lt;<a href="https://openiD.net/specs/openiD-connect-core-1_0.html">https://openiD.net/specs/openiD-connect-core-1_0.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="W3C.REC-vc-data-model-20191119">[W3C.REC-vc-data-model-20191119]</dt>
      <dd>
<span class="refAuthor">Sporny, M.</span><span class="refAuthor">, Noble, G.</span><span class="refAuthor">, Longley, D.</span><span class="refAuthor">, Burnett, D.</span><span class="refAuthor">, and B. Zundel</span>, <span class="refTitle">"Verifiable Credentials Data Model 1.0"</span>, <time datetime="2019-11" class="refDate">November 2019</time>, <span>&lt;<a href="https://www.w3.org/TR/2019/REC-vc-data-model-20191119/">https://www.w3.org/TR/2019/REC-vc-data-model-20191119/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="section-appendix.a">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">D. Waite</span></div>
<div dir="auto" class="left"><span class="org">Ping Identity</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:david@alkaline-solutions.com" class="email">david@alkaline-solutions.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
